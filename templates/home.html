{% extends 'blog/base.html' %}
{% block content %}
{% load i18n %}

<div class="row-content">
    <a href="{% url 'blog:create' %}" class="btn btn-sm btn-success"
        style="width: 20%; vertical-align:middle;">{% trans 'Create post' %}</a>
    {% if not 'popular' in request.path %}
        <a href="{% url 'blog:home_popular' %}" class="order pos-right">{% trans 'popular' %}</a>
    {% else %}
        <a href="{% url 'blog:home' %}" class="order pos-right">{% trans 'new' %}</a>
    {% endif %}
    
</div>
{% for post in posts %}
    <div class="post">
        <div class="row-content">
            <div><img src="{{ post.user.profile_picture.url }}" width="25px" height="25px" style="border-radius: 50%;" alt="{% trans 'profile picture' %}">
            {% if post.user.is_moderator is True %}
                <span style="color: #e85353">{{ post.user }}</span>
            {% else %}
                <span>{{ post.user }}</span>
            {% endif %}
            </div>
            <div class="pos-right">{{ post.creation_date }}</div>
        </div>
        <h1><a href="{% url 'blog:post' pk=post.id save=0 %}">{{ post.name }}</a></h1>
        <h3>{{ post.description }}</h3>
        <p></p>
        <div class="row-content">
            {%if request.user == post.user.user %}
                <a href="{% url 'blog:update' post.id %}" class="btn btn-sm btn-info"
                    style="width: 29%;">{% trans 'Update' %}</a>
                <a href="{% url 'blog:delete' post.id %}" class="btn btn-sm btn-danger"
                    style="width: 29%;">{% trans 'Delete' %}</a>
            {%endif%}
            
            <div class="pos-right">
                <span style="margin-right: 10px;">🗨 {{ post.number_of_comments }}</span>
                <a class="btn btn-sm btn-default"
                style="color: green; font-size: 20px; padding: 0 5px;">+</a>
                <span style="vertical-align: middle;">{{ post.rating }}</span>
                <a class="btn btn-sm btn-default"
                style="color: red; font-size: 20px; padding: 0 5px;">-</a>
            </div>
        </div>
    </div>
{% endfor %}

{% endblock %}
